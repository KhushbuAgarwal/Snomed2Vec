Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//poincare/SNOMEDCT_isa.txt.emb_dims_20.nthreads_1.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 330184
Labeldict length 41
len of merged map 277189
 Length of merged map with embdinngs and node types:  277189
(277189, 20) (277189, 41)
Creating classifier
trainign data shape (207891, 20) (207891, 41)
Testing data shape (69298, 20) (69298, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.7448686883299378, 1: 0.2559000793715299, 2: 0.8970516648715408, 3: 0.30893767148324036, 4: 0.3199890834507375, 5: 0.1834268752437194, 6: 0.42388173751226055, 7: 0.31175560270600444, 8: 0.10900936165990294, 9: 0.8469980961921332, 10: 0.4964680425472768, 11: 0.4740547541735185, 12: 0.5280013798799196, 13: 0.23273839538427527, 14: 0.8767041603949104, 15: 0.6608403842920791, 16: 0.641044051137943, 17: 0.2837155347918123, 18: 0.20513505377451624, 19: 0.36546591865269057, 20: 0.12072142360930266, 21: 0.21567776352124088, 22: 0.47831914127047903, 23: 0.030556967627014032, 24: 0.11150585187400526, 25: 0.07482576090250595, 26: 0.1509456232808761, 27: 0.05402828804191553, 28: 0.036523453288921336, 29: 0.0585324254511177, 30: 0.07117658980044345, 31: 0.11653688892430707, 32: 0.02376617888417882, 33: 0.010233071981449196, 34: 0.14142137768527585, 35: 0.38349278676508436, 36: 0.4769836020447503, 37: 0.002489572023580257, 38: 0.0008525386229422957, 39: 0.010454575088935573, 40: nan, 'micro': 0.5844973894987187}
Precision(micro) [0.0244118  0.02441146 0.02441147 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985570e-01 9.99985570e-01 ... 2.88608618e-05
 1.44304309e-05 0.00000000e+00]
Average precision micro 0.5844973894987187
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//poincare/SNOMEDCT_isa.txt.emb_dims_50.nthreads_1.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 330184
Labeldict length 41
len of merged map 277189
 Length of merged map with embdinngs and node types:  277189
(277189, 50) (277189, 41)
Creating classifier
trainign data shape (207891, 50) (207891, 41)
Testing data shape (69298, 50) (69298, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8060011750931724, 1: 0.4160569724718788, 2: 0.9248091237658196, 3: 0.3801503444189357, 4: 0.4183410568834994, 5: 0.3406076642636329, 6: 0.5580785318350481, 7: 0.37766258514793005, 8: 0.12463102745527463, 9: 0.916599804413331, 10: 0.6317885291834808, 11: 0.7392470499597914, 12: 0.6929836074315131, 13: 0.28603342164794104, 14: 0.94662047131788, 15: 0.6900132979942617, 16: 0.7930052710304843, 17: 0.5091212377354799, 18: 0.2412181171745936, 19: 0.4674749547131176, 20: 0.21443543148187033, 21: 0.3775714641024595, 22: 0.900840980555014, 23: 0.499783873340358, 24: 0.3739106562428194, 25: 0.15628071859112666, 26: 0.1912883387368498, 27: 0.2704746831175642, 28: 0.11195601706452282, 29: 0.052275043228476994, 30: 0.4739448479358948, 31: 0.285081794997265, 32: 0.04101525502040108, 33: 0.027370551050918575, 34: 0.1952108553651349, 35: 0.42857379109247407, 36: 0.7117042528309454, 37: 0.12345508673415274, 38: 0.051037537045355116, 39: 0.306164923503576, 40: nan, 'micro': 0.7001447570426063}
Precision(micro) [0.02448435 0.024484   0.02448401 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985570e-01 9.99985570e-01 ... 2.88608618e-05
 1.44304309e-05 0.00000000e+00]
Average precision micro 0.7001447570426063
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//poincare/SNOMEDCT_isa.txt.emb_dims_100.nthreads_1.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 330184
Labeldict length 41
len of merged map 277189
 Length of merged map with embdinngs and node types:  277189
(277189, 100) (277189, 41)
Creating classifier
trainign data shape (207891, 100) (207891, 41)
Testing data shape (69298, 100) (69298, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8355471408278397, 1: 0.7338857709850343, 2: 0.9379379741725096, 3: 0.46121265505152675, 4: 0.6173047511301446, 5: 0.4474774165566907, 6: 0.6395361324165758, 7: 0.44711807149068045, 8: 0.2289289849146623, 9: 0.9607308009881602, 10: 0.6738605628013843, 11: 0.8181911411498023, 12: 0.7423891197781951, 13: 0.35323538239935975, 14: 0.9573997983169644, 15: 0.7759061886438628, 16: 0.8204424859236689, 17: 0.670389666506769, 18: 0.265229448434849, 19: 0.5065079005943172, 20: 0.34687390847636934, 21: 0.4582771030670689, 22: 0.981556891077056, 23: 0.5812664486537461, 24: 0.5397639289043203, 25: 0.285942431116001, 26: 0.28787074429227266, 27: 0.47234851958723123, 28: 0.16766953858665992, 29: 0.10000302345279477, 30: 0.5035675795818605, 31: 0.5794827373239169, 32: 0.04720121437136217, 33: 0.17014334616029073, 34: 0.26819627553094044, 35: 0.5250152786596065, 36: 0.7267735254352218, 37: 0.09095092536407186, 38: 0.4750433448699713, 39: 0.3140764481755307, 40: nan, 'micro': 0.7656445853052887}
Precision(micro) [0.02459508 0.02459474 0.02459475 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985570e-01 9.99985570e-01 ... 2.88608618e-05
 1.44304309e-05 0.00000000e+00]
Average precision micro 0.7656445853052887
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//poincare/SNOMEDCT_isa.txt.emb_dims_200.nthreads_1.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 330184
Labeldict length 41
len of merged map 277189
 Length of merged map with embdinngs and node types:  277189
(277189, 200) (277189, 41)
Creating classifier
trainign data shape (207891, 200) (207891, 41)
Testing data shape (69298, 200) (69298, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.86202828337638, 1: 0.8464346168924135, 2: 0.9494905095040787, 3: 0.5352154821932444, 4: 0.7256110549300001, 5: 0.49056980030022646, 6: 0.7141772381717706, 7: 0.5037300395339143, 8: 0.3653508640956592, 9: 0.9762165494414303, 10: 0.7690964193951968, 11: 0.8582206050308876, 12: 0.7993996541657711, 13: 0.4100457525684237, 14: 0.9651130948645528, 15: 0.7925961358287158, 16: 0.8527702530759074, 17: 0.7662099610361535, 18: 0.29683513471072964, 19: 0.5651392521076728, 20: 0.5101046254084851, 21: 0.5302726813736196, 22: 0.9859112009117389, 23: 0.6138314547233736, 24: 0.6083661957997375, 25: 0.3827156673629289, 26: 0.39921317498816516, 27: 0.6187188262362927, 28: 0.2622557944033632, 29: 0.17383035247977863, 30: 0.6390061376829841, 31: 0.6791479848980373, 32: 0.04695047754476652, 33: 0.3016362387017466, 34: 0.3402724158601293, 35: 0.5416421435582213, 36: 0.7065291107696414, 37: 0.2560355014616129, 38: 0.6000810041487513, 39: 0.40948543704331514, 40: nan, 'micro': 0.812592872083679}
Precision(micro) [0.02451127 0.02451093 0.02451094 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985570e-01 9.99985570e-01 ... 2.88608618e-05
 1.44304309e-05 0.00000000e+00]
Average precision micro 0.812592872083679
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//poincare/SNOMEDCT_isa.txt.emb_dims_500.nthreads_1.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 330184
Labeldict length 41
len of merged map 277189
 Length of merged map with embdinngs and node types:  277189
(277189, 500) (277189, 41)
Creating classifier
trainign data shape (207891, 500) (207891, 41)
Testing data shape (69298, 500) (69298, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8774990174381223, 1: 0.9331351551223537, 2: 0.9631365222727674, 3: 0.6892101944613117, 4: 0.8302047472903238, 5: 0.5243023580880699, 6: 0.8012196222960013, 7: 0.525942344361038, 8: 0.5510780165973381, 9: 0.9808582557634011, 10: 0.8376926024796434, 11: 0.9181490824948664, 12: 0.824407073513414, 13: 0.4930067722974098, 14: 0.9698302447372773, 15: 0.8366961435492829, 16: 0.882027172985551, 17: 0.8296752703362518, 18: 0.32620826674500836, 19: 0.6160167111826906, 20: 0.6410476968876072, 21: 0.5856781852561992, 22: 0.9902046520565981, 23: 0.6172340460700991, 24: 0.7274005791602948, 25: 0.4646739406734012, 26: 0.4627844539481884, 27: 0.683875882158308, 28: 0.29033004163357645, 29: 0.25988028622666787, 30: 0.7027020827934224, 31: 0.7659924154994061, 32: 0.05269561832370176, 33: 0.3612345656508578, 34: 0.4142683824632736, 35: 0.5973686240106527, 36: 0.7088549856636025, 37: 0.29665304104710005, 38: 0.6001048460490339, 39: 0.4190689226499496, 40: nan, 'micro': 0.8579909016051098}
Precision(micro) [0.02456611 0.02456576 0.02456577 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985570e-01 9.99985570e-01 ... 2.88608618e-05
 1.44304309e-05 0.00000000e+00]
Average precision micro 0.8579909016051098
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//metapath2vec/snomed.disorder_drugs.emb.e20.out.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 14689
Labeldict length 41
len of merged map 12378
 Length of merged map with embdinngs and node types:  12378
(12378, 20) (12378, 41)
Creating classifier
trainign data shape (9283, 20) (9283, 41)
Testing data shape (3095, 20) (3095, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.39543061424766757, 1: 0.37643787592484546, 2: nan, 3: nan, 4: nan, 5: 0.7334848833526246, 6: 0.01978913888858179, 7: 0.46444370211956376, 8: nan, 9: nan, 10: nan, 11: 0.6286955750493588, 12: 0.0006743088334457181, 13: nan, 14: 0.001695714622590949, 15: 0.015085225867629478, 16: nan, 17: 0.22414229410922737, 18: 0.0017007938154650795, 19: 0.7616973142626899, 20: nan, 21: 0.2174762283396797, 22: 0.04802081466555352, 23: nan, 24: 0.08176758344387682, 25: 0.2578189607193803, 26: 0.1649902336030405, 27: 0.5394076243755533, 28: 0.056569314341822774, 29: nan, 30: nan, 31: 0.2137330579283143, 32: 0.0006462035541195477, 33: 0.5769230769230769, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.26877391090098474}
Precision(micro) [0.02735549 0.02734689 0.02734713 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99676898e-01 9.99676898e-01 ... 6.46203554e-04
 3.23101777e-04 0.00000000e+00]
Average precision micro 0.26877391090098474
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//metapath2vec/snomed.disorder_drugs.emb.e50.out.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 14689
Labeldict length 41
len of merged map 12378
 Length of merged map with embdinngs and node types:  12378
(12378, 50) (12378, 41)
Creating classifier
trainign data shape (9283, 50) (9283, 41)
Testing data shape (3095, 50) (3095, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.4493539716025904, 1: 0.48046212782376746, 2: nan, 3: nan, 4: nan, 5: 0.7973420911944885, 6: 0.02631742137909769, 7: 0.4448516333338205, 8: nan, 9: nan, 10: nan, 11: 0.635574307180097, 12: 0.0003549875754348598, 13: nan, 14: 0.00232301756043783, 15: 0.05368058154435863, 16: nan, 17: 0.3212537555143256, 18: 0.0013732295965848498, 19: 0.7580372302453193, 20: nan, 21: 0.2351121368211481, 22: 0.37573224200822986, 23: nan, 24: 0.059150779386955114, 25: 0.2710113096906983, 26: 0.2215750038575205, 27: 0.5413690674539205, 28: 0.04978696807547951, 29: nan, 30: nan, 31: 0.1723942859304647, 32: 0.0006462035541195477, 33: 0.41666666666666663, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.28322191399200314}
Precision(micro) [0.02757066 0.027562   0.02756225 ... 0.5        1.         1.        ]
Recall(micro) [1.00000000e+00 9.99676898e-01 9.99676898e-01 ... 3.23101777e-04
 3.23101777e-04 0.00000000e+00]
Average precision micro 0.28322191399200314
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//metapath2vec/snomed.disorder_drugs.emb.e100.out.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 14689
Labeldict length 41
len of merged map 12378
 Length of merged map with embdinngs and node types:  12378
(12378, 100) (12378, 41)
Creating classifier
trainign data shape (9283, 100) (9283, 41)
Testing data shape (3095, 100) (3095, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.4808359853624068, 1: 0.369962571420756, 2: nan, 3: nan, 4: nan, 5: 0.6985299355389999, 6: 0.02274190532162866, 7: 0.4253950049820074, 8: nan, 9: nan, 10: nan, 11: 0.6723623110221024, 12: 0.0004020908725371934, 13: nan, 14: 0.00104684031836863, 15: 0.04666924805792447, 16: nan, 17: 0.3395053791098067, 18: 0.001318067419655975, 19: 0.779929761674696, 20: nan, 21: 0.24765904523578106, 22: 0.053804479623085204, 23: nan, 24: 0.029378776484976388, 25: 0.2420657864238967, 26: 0.17493743354965643, 27: 0.5160802258589493, 28: 0.05878765276709476, 29: nan, 30: nan, 31: 0.2363322040317168, 32: 0.0006462035541195477, 33: 0.5909090909090909, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.31383449179325856}
Precision(micro) [0.02482434 0.02481652 0.02481672 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99676898e-01 9.99676898e-01 ... 6.46203554e-04
 3.23101777e-04 0.00000000e+00]
Average precision micro 0.31383449179325856
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//metapath2vec/snomed.disorder_drugs.emb.e200.out.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 14689
Labeldict length 41
len of merged map 12378
 Length of merged map with embdinngs and node types:  12378
(12378, 200) (12378, 41)
Creating classifier
trainign data shape (9283, 200) (9283, 41)
Testing data shape (3095, 200) (3095, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.47974814319054626, 1: 0.34132715043296485, 2: nan, 3: nan, 4: nan, 5: 0.6325743489393371, 6: 0.03141400028698198, 7: 0.33156298317621713, 8: nan, 9: nan, 10: nan, 11: 0.694277488430228, 12: 0.0007547169811320754, 13: nan, 14: 0.0019735264585550075, 15: 0.04103818979505534, 16: nan, 17: 0.3395398389499435, 18: 0.0012640554967825097, 19: 0.7525893445947169, 20: nan, 21: 0.23920195164967886, 22: 0.27948932716219954, 23: nan, 24: 0.020101856218744427, 25: 0.27336450602441387, 26: 0.19333747712522553, 27: 0.5769966028758575, 28: 0.04945334491318193, 29: nan, 30: nan, 31: 0.13512934714290906, 32: 0.0006462035541195477, 33: 0.6428571428571428, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.3177664683561795}
Precision(micro) [0.02688989 0.02688144 0.02688167 ... 0.5        0.         1.        ]
Recall(micro) [1.00000000e+00 9.99676898e-01 9.99676898e-01 ... 3.23101777e-04
 0.00000000e+00 0.00000000e+00]
Average precision micro 0.3177664683561795

Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//metapath2vec/snomed.disorder_drugs.emb.e500.out.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 14689
Labeldict length 41
len of merged map 12378
 Length of merged map with embdinngs and node types:  12378
(12378, 500) (12378, 41)
Creating classifier
trainign data shape (9283, 500) (9283, 41)
Testing data shape (3095, 500) (3095, 41)
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 3 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 4 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 8 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 10 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 13 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 16 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 20 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 23 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 30 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 32 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 34 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 35 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 36 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 37 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 38 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 39 is present in all training examples.
  str(classes[c]))
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/multiclass.py:76: UserWarning: Label not 40 is present in all training examples.
  str(classes[c]))
Actual vs Predicted class for each test sample
[[0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/metrics/ranking.py:521: RuntimeWarning: invalid value encountered in true_divide
  recall = tps / tps[-1]
Average Precison (all classes) =  {0: 0.49485294245085976, 1: 0.33891111524868905, 2: nan, 3: nan, 4: nan, 5: 0.6258650800251568, 6: 0.030007431022934402, 7: 0.420667694138431, 8: nan, 9: nan, 10: nan, 11: 0.7114513493629513, 12: 0.0003913894324853229, 13: nan, 14: 0.0011912757833423171, 15: 0.08522819999258187, 16: nan, 17: 0.3450758597144834, 18: 0.0015671106601873597, 19: 0.7603979599951124, 20: nan, 21: 0.25181123533780947, 22: 0.03845633642099611, 23: nan, 24: 0.05210309630252104, 25: 0.29218357565603903, 26: 0.19086489664590908, 27: 0.6378991943377055, 28: 0.04952002441615179, 29: nan, 30: nan, 31: 0.20777143744981844, 32: 0.0006462035541195477, 33: 0.3666666666666667, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.32873912056156684}
Precision(micro) [0.02609524 0.02608703 0.02608725 ... 0.         0.         1.        ]
Recall(micro) [1.        0.9996769 0.9996769 ... 0.        0.        0.       ]
Average precision micro 0.32873912056156684


Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/snomed.emb.p1.q1.w20.l40.e20 /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/vertex_dict.tsv 0.25
Getting Data
Length of id->?emebdding map 373286
Labeldict length 41
Length of vertex dictionary :  373286
len of merged map 284985
 Length of merged map with embdinngs and node types:  284985
(284985, 20) (284985, 41)
Creating classifier
trainign data shape (213738, 20) (213738, 41)
Testing data shape (71247, 20) (71247, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.7665954743064998, 1: 0.6839746643525946, 2: 0.8498447845291233, 3: 0.42297333691478656, 4: 0.5264750651195577, 5: 0.16296307932794793, 6: 0.7045265485446077, 7: 0.3232921333912379, 8: 0.17855504991356475, 9: 0.8611088015685912, 10: 0.7149550181266895, 11: 0.5838945705846336, 12: 0.7877996871054644, 13: 0.28484161788247403, 14: 0.9619448473424546, 15: 0.6479238963854109, 16: 0.7537240304251854, 17: 0.5886135821971519, 18: 0.20386469260989704, 19: 0.35697790838037224, 20: 0.25544150577191177, 21: 0.1751982438594012, 22: 0.955595339365562, 23: 0.4975348238731408, 24: 0.22068113730862438, 25: 0.16583417752859048, 26: 0.3664343963970358, 27: 0.403484567758817, 28: 0.07974485836563219, 29: 0.04832592960270738, 30: 0.4016542833736868, 31: 0.2766642965699279, 32: 0.04212792400411483, 33: 0.1326321491286446, 34: 0.12032675757947532, 35: 0.36726221028700246, 36: 0.6580683748876169, 37: 0.001425010669333688, 38: 0.33461796317245374, 39: 0.3505349000041043, 40: 0.00012084592145015106, 'micro': 0.6934475232279169}
Precision(micro) [0.02440191 0.02440157 0.02440158 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985964e-01 9.99985964e-01 ... 2.80713574e-05
 1.40356787e-05 0.00000000e+00]
Average precision micro 0.6934475232279169
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/snomed.emb.p1.q1.w20.l40.e50 /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/vertex_dict.tsv 0.25
Getting Data
Length of id->?emebdding map 373286
Labeldict length 41
Length of vertex dictionary :  373286
len of merged map 284985
 Length of merged map with embdinngs and node types:  284985
(284985, 50) (284985, 41)
Creating classifier
trainign data shape (213738, 50) (213738, 41)
Testing data shape (71247, 50) (71247, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8090974345445395, 1: 0.8008981860459625, 2: 0.8757150085948002, 3: 0.5707994082620258, 4: 0.6304390890370349, 5: 0.286457893196275, 6: 0.7739574440680477, 7: 0.35413710311357893, 8: 0.3707534153512498, 9: 0.8914669792203266, 10: 0.7344037792191747, 11: 0.7740794961280073, 12: 0.8215412247383285, 13: 0.3656322924559183, 14: 0.9709982207336892, 15: 0.7236579650083517, 16: 0.8097004585125701, 17: 0.7044555813794368, 18: 0.3277523885394483, 19: 0.44907133488023554, 20: 0.3282620904059146, 21: 0.23564629445921348, 22: 0.9591124888555215, 23: 0.6933306944118462, 24: 0.3261418535099887, 25: 0.2297982647933157, 26: 0.46550861721995895, 27: 0.45194767648441947, 28: 0.1563579942670539, 29: 0.10897192313393825, 30: 0.47715371217772884, 31: 0.49818889158812335, 32: 0.04491309458764309, 33: 0.2882059344839925, 34: 0.18278675872564695, 35: 0.4233754423720503, 36: 0.6904169525212762, 37: 0.0018701036324661365, 38: 0.36628545973717447, 39: 0.44460789538468903, 40: 0.005263157894736842, 'micro': 0.7589215888752581}
Precision(micro) [0.02450741 0.02450708 0.02450709 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985964e-01 9.99985964e-01 ... 2.80713574e-05
 1.40356787e-05 0.00000000e+00]
Average precision micro 0.7589215888752581
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/snomed.emb.p1.q1.w20.l40.e100 /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/vertex_dict.tsv 0.25
Getting Data
Length of id->?emebdding map 373286
Labeldict length 41
Length of vertex dictionary :  373286
len of merged map 284985
 Length of merged map with embdinngs and node types:  284985
(284985, 100) (284985, 41)
Creating classifier
trainign data shape (213738, 100) (213738, 41)
Testing data shape (71247, 100) (71247, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.818129019073141, 1: 0.8423585213854079, 2: 0.8864566309480391, 3: 0.6239485200909609, 4: 0.7245497802152828, 5: 0.3729949036901858, 6: 0.80239306001282, 7: 0.3765640424131564, 8: 0.4279354592558569, 9: 0.8971212990486841, 10: 0.7555948230228426, 11: 0.812927133701794, 12: 0.8380544486122147, 13: 0.4251348900785895, 14: 0.9728317494242879, 15: 0.7520971734948095, 16: 0.8356114766553405, 17: 0.734789480675665, 18: 0.34641032300042063, 19: 0.49499712291628145, 20: 0.3730161814388634, 21: 0.304647851589065, 22: 0.9812034712381057, 23: 0.7481297779664035, 24: 0.3515998142754489, 25: 0.27824009049792386, 26: 0.4593573803320983, 27: 0.42892348586026485, 28: 0.22711944817414614, 29: 0.15142063540837591, 30: 0.511029056341523, 31: 0.5879580938568955, 32: 0.07493640290616585, 33: 0.2808589026466075, 34: 0.32729779153832284, 35: 0.453250756089721, 36: 0.6422570483560441, 37: 0.005849668885294545, 38: 0.3614958101845273, 39: 0.5238372898796695, 40: 0.0017513134851138354, 'micro': 0.7853861635466007}
Precision(micro) [0.02449134 0.02449101 0.02449101 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985964e-01 9.99985964e-01 ... 2.80713574e-05
 1.40356787e-05 0.00000000e+00]
Average precision micro 0.7853861635466007
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/snomed.emb.p1.q1.w20.l40.e200 /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/vertex_dict.tsv 0.25
Getting Data
Length of id->?emebdding map 373286
Labeldict length 41
Length of vertex dictionary :  373286
len of merged map 284985
 Length of merged map with embdinngs and node types:  284985
(284985, 200) (284985, 41)
Creating classifier
trainign data shape (213738, 200) (213738, 41)
Testing data shape (71247, 200) (71247, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8297141705710148, 1: 0.8667366376492356, 2: 0.9042387307695778, 3: 0.6539608265218976, 4: 0.7428942339194974, 5: 0.3831089156545143, 6: 0.8245939246686245, 7: 0.4143540486921026, 8: 0.4583556555815448, 9: 0.9094436161573637, 10: 0.7705161007564694, 11: 0.8290149798738008, 12: 0.8357965581180031, 13: 0.4815841599838025, 14: 0.9749691910452978, 15: 0.7636868730054687, 16: 0.8489257347633675, 17: 0.7619403027174887, 18: 0.36038871379328963, 19: 0.5167271583732707, 20: 0.4123777620644814, 21: 0.37168300012544064, 22: 0.9806324592182167, 23: 0.7970106395575473, 24: 0.38817280828445155, 25: 0.2914685049448822, 26: 0.4842205454335905, 27: 0.4772963395188754, 28: 0.24549132484940162, 29: 0.17981981675607295, 30: 0.4871390304000363, 31: 0.6460189503722048, 32: 0.08876746947204939, 33: 0.286031032608156, 34: 0.3811943083721053, 35: 0.48794358570515894, 36: 0.6392139629493575, 37: 0.043265598678622876, 38: 0.3589369342487141, 39: 0.4948198764691462, 40: 0.0011682242990654205, 'micro': 0.803226591222934}
Precision(micro) [0.024495   0.02449466 0.02449467 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985964e-01 9.99985964e-01 ... 2.80713574e-05
 1.40356787e-05 0.00000000e+00]
Average precision micro 0.803226591222934
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/snomed.emb.p1.q1.w20.l40.e500 /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//node2vec/vertex_dict.tsv 0.25
Getting Data
Length of id->?emebdding map 373286
Labeldict length 41
Length of vertex dictionary :  373286
len of merged map 284985
 Length of merged map with embdinngs and node types:  284985
(284985, 500) (284985, 41)
Creating classifier
trainign data shape (213738, 500) (213738, 41)
Testing data shape (71247, 500) (71247, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.8371692050440263, 1: 0.8853302238762497, 2: 0.9142616971519367, 3: 0.699132376687587, 4: 0.7373878341446751, 5: 0.3647293112764001, 6: 0.8399839252917272, 7: 0.44377297574235386, 8: 0.47335857943462967, 9: 0.9171779265668167, 10: 0.7815349588115543, 11: 0.8662935132215479, 12: 0.8434359242553138, 13: 0.5111073869061388, 14: 0.974768067427213, 15: 0.7738610867810081, 16: 0.8547848578551585, 17: 0.7729260927162726, 18: 0.36323162703344214, 19: 0.5399926281467976, 20: 0.4355578772507407, 21: 0.394198161065593, 22: 0.9750300212688344, 23: 0.7745899514141972, 24: 0.48026863119950974, 25: 0.3003863821640403, 26: 0.48082320925763533, 27: 0.49230072302177114, 28: 0.24824348333284074, 29: 0.2099821833965689, 30: 0.48007231673129014, 31: 0.6607577125082991, 32: 0.06774684421645628, 33: 0.2454741863972044, 34: 0.34058251857663524, 35: 0.4115032489528677, 36: 0.6405512534708444, 37: 0.012656105942502724, 38: 0.369457858142182, 39: 0.6049668011782046, 40: 0.00012423903590508137, 'micro': 0.8177815553280532}
Precision(micro) [0.02452324 0.0245229  0.02452291 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99985964e-01 9.99985964e-01 ... 2.80713574e-05
 1.40356787e-05 0.00000000e+00]
Average precision micro 0.8177815553280532
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//med2vec/codeEmb.npy.scui_format.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 8011
Labeldict length 41
len of merged map 6401
 Length of merged map with embdinngs and node types:  6401
(6401, 200) (6401, 41)
Creating classifier
trainign data shape (4800, 200) (4800, 41)
Testing data shape (1601, 200) (1601, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.5178793734841143, 1: nan, 2: 0.016804695799435287, 3: 0.004889824394499157, 4: nan, 5: nan, 6: 0.1574918173818995, 7: nan, 8: nan, 9: nan, 10: nan, 11: 0.3947278578372599, 12: 0.233096280846664, 13: nan, 14: 0.3168711284637816, 15: nan, 16: nan, 17: 0.1488960166734317, 18: 0.08509791181265793, 19: nan, 20: nan, 21: 0.07784966881637832, 22: nan, 23: nan, 24: nan, 25: nan, 26: nan, 27: nan, 28: 0.07912010626541423, 29: 0.01934174811779514, 30: 0.005405405405405406, 31: nan, 32: nan, 33: nan, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.04090116603489935}
Precision(micro) [0.02459822 0.02458324 0.02458362 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99375390e-01 9.99375390e-01 ... 1.24921924e-03
 6.24609619e-04 0.00000000e+00]
Average precision micro 0.04090116603489935
Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//cui2vec/cui2vec_pretrained.csv.scui_format.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 38638
Labeldict length 41
len of merged map 28963
 Length of merged map with embdinngs and node types:  28963
(28963, 500) (28963, 41)
Creating classifier
trainign data shape (21722, 500) (21722, 41)
Testing data shape (7241, 500) (7241, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.7596892493388987, 1: 0.550482012231026, 2: 0.5992980815758695, 3: 0.43388599254224897, 4: 0.22732558894908558, 5: 0.7048149891663292, 6: 0.4305412395990887, 7: 0.41113189189010013, 8: 0.17446327415818677, 9: 0.3223399107528252, 10: 0.6851864071021366, 11: 0.7538269760872259, 12: 0.5752339576479927, 13: 0.3702852409937471, 14: 0.7217481136497657, 15: 0.13529593217985478, 16: 0.4816307732946787, 17: 0.5546861539704825, 18: 0.21660282762332056, 19: 0.5732246017805208, 20: 0.2568588339443428, 21: 0.2545229684253275, 22: 0.6669117954138271, 23: 0.35422394610399943, 24: 0.27734299229632864, 25: 0.32800015404018246, 26: 0.25939772080888357, 27: 0.5632425108065208, 28: 0.12587155468802666, 29: 0.06670067747602638, 30: 0.1458813344923042, 31: 0.3017339382380272, 32: 0.01041495152514547, 33: 0.30529226446798463, 34: 0.3252744433009501, 35: 0.15525446520314337, 36: 0.2102091936171618, 37: 0.37128535624776227, 38: nan, 39: 0.003531596219804081, 40: nan, 'micro': 0.5685659710918898}
Precision(micro) [0.02492616 0.0249228  0.02492289 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99861898e-01 9.99861898e-01 ... 2.76204944e-04
 1.38102472e-04 0.00000000e+00]
Average precision micro 0.5685659710918898

Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//cui2vec/cui2vec_pretrained.node2vec_format.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//cui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 109053
Labeldict length 53
len of merged map 95232
 Length of merged map with embdinngs and node types:  95232
(95232, 500) (95232, 53)
Creating classifier
trainign data shape (71424, 500) (71424, 53)
Testing data shape (23808, 500) (23808, 53)
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/svm/base.py:922: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.
  "the number of iterations.", ConvergenceWarning)
Fitting completed, scores =
/share/apps/python/anaconda3/lib/python3.6/site-packages/sklearn/metrics/ranking.py:521: RuntimeWarning: invalid value encountered in true_divide
  recall = tps / tps[-1]
Average Precison (all classes) =  {0: 0.2586281429780213, 1: 0.6122223284935576, 2: 0.618951504628693, 3: 0.23540805416316848, 4: 0.28736138924000487, 5: 0.48192402908215826, 6: 0.4052450662131956, 7: 0.31180878527823097, 8: 0.6295518643217423, 9: 0.40122552598655065, 10: 0.35423287667320713, 11: 0.24201671096086438, 12: 0.18081368772944426, 13: 0.2835816653280435, 14: 0.7396674985648805, 15: 0.6392925798387211, 16: 0.7453062111393072, 17: 0.5451832816747746, 18: 0.1304121318692304, 19: 0.8840283827691711, 20: 0.3669991677210366, 21: 0.5822845997344035, 22: 0.0002605873300913393, 23: 0.3954783084943676, 24: 0.46860413230086834, 25: 0.2841193225278168, 26: 0.5310805982080595, 27: 0.1526591809946629, 28: 0.08829229910470873, 29: 0.15950547811262503, 30: 0.04881358152571849, 31: 0.045687369288621806, 32: 0.24137344415262826, 33: 0.2697593355251208, 34: 0.398278915606925, 35: 0.4554455978563849, 36: 0.009028114185577562, 37: 0.12153556948458183, 38: 0.25167564721095814, 39: 0.21694036364313138, 40: 0.6889930123178242, 41: 0.2943617168665305, 42: 0.09109060386111405, 43: 0.16025641025641024, 44: 0.10826357485656389, 45: 0.17221835755777506, 46: 0.2869337565617576, 47: 0.08976122546022687, 48: 0.0013890624481039844, 49: 0.006622516556291391, 50: 0.15191926056986366, 51: nan, 52: nan, 'micro': 0.5356603593397461}
Precision(micro) [0.01908253 0.01908175 0.01908176 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99957997e-01 9.99957997e-01 ... 8.40053763e-05
 4.20026882e-05 0.00000000e+00]
Average precision micro 0.5356603593397461


Running classifier with /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//med2vec/codeEmb.npy.scui_format.txt /projects/deepcare/deepcare/snomed/umls_extracted_snomed_graphs/Pruned_UMLS_SNOMED/all_embeddings//scui_tui.tsv NONE 0.25
Getting Data
Length of id->?emebdding map 8011
Labeldict length 41
len of merged map 6401
 Length of merged map with embdinngs and node types:  6401
(6401, 200) (6401, 41)
Creating classifier
trainign data shape (4800, 200) (4800, 41)
Testing data shape (1601, 200) (1601, 41)
Actual vs Predicted class for each test sample
[[0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]] [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
  0 0 0 0 0]]
Fitting completed, scores = 
Average Precison (all classes) =  {0: 0.5178793734841143, 1: nan, 2: 0.016804695799435287, 3: 0.004889824394499157, 4: nan, 5: nan, 6: 0.1574918173818995, 7: nan, 8: nan, 9: nan, 10: nan, 11: 0.3947278578372599, 12: 0.233096280846664, 13: nan, 14: 0.3168711284637816, 15: nan, 16: nan, 17: 0.1488960166734317, 18: 0.08509791181265793, 19: nan, 20: nan, 21: 0.07784966881637832, 22: nan, 23: nan, 24: nan, 25: nan, 26: nan, 27: nan, 28: 0.07912010626541423, 29: 0.01934174811779514, 30: 0.005405405405405406, 31: nan, 32: nan, 33: nan, 34: nan, 35: nan, 36: nan, 37: nan, 38: nan, 39: nan, 40: nan, 'micro': 0.04090116603489935}
Precision(micro) [0.02459822 0.02458324 0.02458362 ... 1.         1.         1.        ]
Recall(micro) [1.00000000e+00 9.99375390e-01 9.99375390e-01 ... 1.24921924e-03
 6.24609619e-04 0.00000000e+00]
Average precision micro 0.04090116603489935
